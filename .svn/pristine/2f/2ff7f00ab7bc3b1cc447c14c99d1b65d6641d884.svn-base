<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <title>后台管理系统</title>
    <link rel="stylesheet" href="/assets/vendor/layui/css/layui.css"/>
    <link rel="stylesheet" href="/assets/model/common/css/style.css"/>
    <link rel="stylesheet" href="/assets/model/common/css/common.css"/>
    <script type="text/javascript" src="/assets/vendor/layui/layui.js"></script>
    <!--[if lt IE 9]>
    <script src="/assets/model/common/js/html5shiv.min.js"></script>
    <script src="/assets/model/common/js/respond.min.js"></script>
    <![endif]-->
</head>
<style type="text/css">

</style>
<body class="hold-transition skin-blue sidebar-mini">
<form class="layui-form" action="" style="padding: 20px;">
    <button type="button" class="layui-btn" id="test1">
        <i class="layui-icon">&#xe67c;</i>上传文件
    </button>
    (只允许上传xlsx后缀的文件！！)
</form>

<script>
    var where = [];

    var layui_obj = layui.config({
        version: true,
        base: '/assets/model/'
    }).extend({
        common: 'common/js/common',
    }).use(['common','jquery','form','upload'], function(){

        var form = layui.form;
        var upload = layui.upload;
        var $ = layui.jquery;
        var common = layui.common;

        var uploadInst = upload.render({
            elem: '#test1' //绑定元素
            ,url: common.getUrl('vip_config/rebateConfigImport') //上传接口
            ,headers:common.getHeader()
            ,accept:'file'
            ,exts:'xlsx'
            ,done: function(res){
                //上传完毕回调
                // layer.msg(res.msg);
                window.parent.res_msg(res.msg);
            }
            ,error: function(){
                //请求异常回调
                layer.msg('接口异常');
            }
        });


    });
</script>
</body>
</html>