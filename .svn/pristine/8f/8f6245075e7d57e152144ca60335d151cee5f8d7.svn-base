<?php
use common\GamekeySignBase\GamekeySignBase;
use common\server\Platform\Youyu\YouyuCommonMember;

class shenqiios extends GamekeySignBase
{

    public $from = 'zhangWan';

    public $return_form = 1; //判断是否需要返回转接口的所有数据

    private $secret = 'skHVv95EI7DG1sAzdNZZxlFDyG3IKCre';

    public $uid_to_sdkid_url = "";

    public $sdkid_to_uid_url = "";

    public function beforeChangeData($chat_info)
    {

        $username = '';
        if( $chat_info['tkey'] == 'youyu'){

            //特殊处理游娱神器
            $info = YouyuCommonMember::getCommonMemberInfoByuids([$chat_info['uid']]);
            if($info){
                $username = $info['youyu'][0]['user_name'];
            }

        }
        if($username){
            $chat_info['uid'] = $username;
        }

        return $chat_info;
    }


}