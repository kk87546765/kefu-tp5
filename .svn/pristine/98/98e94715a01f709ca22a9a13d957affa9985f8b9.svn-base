<?php
/**
 * Created by PhpStorm.
 * User: crosstime
 * Date: 2018/8/14
 * Time: 下午5:31
 */
namespace common\sql_server;


use common\model\db_customer\RecallPlanLog;


class RecallPlanLogSqlServer extends BaseSqlServer
{



    public static function insertInfo($data)
    {

        $time = time();
        $model = new RecallPlanLog();

        $res = $model->allowField($model->allow_field)->save($data);
        return $res;
    }

    public static function insertInfoSub($data)
    {
        $time = time();
        $model = new LossUserSub();
        $sql = "insert ignore into loss_user_sub (`platform_id`,`phone`,`udid`,`uid`,`str_uid`,`username`,`add_time`) value
                            ({$data['platform_id']},'{$data['mobile']}','{$data['udid']}','{$data['uid']}','{$data['uid']}','{$data['uname']}','{$time}')";
        $res = $model->execute($sql);
        return $res;
    }

    public static function update($data)
    {
        $model = new LossUserSub();
        $res = $model->isUpdate(1)->update($data);
        return $res;
    }

    public static function getInfo($where)
    {
        $model = new RecallPlanLog();
        $res = $model->where($where)->select();
        return $res;
    }

    public static function getSubInfo($where)
    {
        $model = new LossUserSub();
        $res = $model->where($where)->select();
        return $res;
    }



}