<?php
/**
 * Created by PhpStorm.
 * User: crosstime
 * Date: 2017/10/12
 * Time: 上午11:57
 */
namespace common\server\Sms;


use common\base\BasicServer;

use common\Libraries\Common;
use extend\ApiSms;
use think\Config;


class SmsServer extends BasicServer
{

    public static function getList()
    {

    }

    public static function send()
    {
        $phone = 15625055357;
        $mail_subject = 1342131;
        $objSms = ApiSms::init();
        $rs = $objSms::sendSms(["{$phone}"], ["不知道", date('Y-m-d H:i:s'), 'Cost'],'1342131');

        var_dump($rs);
    }


    public static function getSmsType()
    {
        $return = ['code' => 1, 'msg'=>'获取失败','data'=>[]];
        $sms = Common::getConfig('sms');

        $platform = self::$common_data['def_platform'];
        $platform_info = Common::getPlatformInfoBySuffixAndCache($platform);
        if(!isset($platform_info['config']['sms'])) return return_json($return);

        $platform_sms_info = $sms[$platform_info['config']['sms']];
        if($platform_sms_info){
            $return['code'] = 0;
            $return['msg'] = '获取成功';
            $return['data'] = [$platform_sms_info];
        }

        return $return;

    }



}